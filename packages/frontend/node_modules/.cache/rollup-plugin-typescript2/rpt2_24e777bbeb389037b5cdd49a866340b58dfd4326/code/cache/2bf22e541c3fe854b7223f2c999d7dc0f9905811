{"code":"import { __awaiter, __extends, __generator } from \"tslib\";\nimport { Peer } from './Peer';\nvar Responder = /** @class */ (function (_super) {\n    __extends(Responder, _super);\n    function Responder() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.role = 'responder';\n        return _this;\n    }\n    Responder.prototype.connect = function () {\n        // The connection is initiated from the Peer class\n        // The responder waits for an offer\n        return Promise.resolve();\n    };\n    Responder.prototype.handleOffer = function (offer) {\n        return __awaiter(this, void 0, void 0, function () {\n            var answer;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.connection) {\n                            this.initializeConnectionAndChannel();\n                        }\n                        if (!this.connection) {\n                            throw new Error('Connection is not initialized');\n                        }\n                        return [4 /*yield*/, this.connection.setRemoteDescription(offer)];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.connection.createAnswer()];\n                    case 2:\n                        answer = _a.sent();\n                        return [4 /*yield*/, this.setAndShareLocalDescription(answer)];\n                    case 3:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Responder.prototype.handleAnswer = function (answer) {\n        // Responder does not handle answers\n    };\n    return Responder;\n}(Peer));\nexport { Responder };\n//# sourceMappingURL=Responder.js.map","references":["/home/onset/z/react-device-portal/packages/frontend/src/webrtc/Peer.ts"],"map":"{\"version\":3,\"file\":\"Responder.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/webrtc/Responder.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAA;AAE7B;IAA+B,6BAAI;IAAnC;;QACW,UAAI,GAAG,WAAoB,CAAA;;IAuBtC,CAAC;IArBU,2BAAO,GAAjB;QACC,kDAAkD;QAClD,mCAAmC;QACnC,OAAO,OAAO,CAAC,OAAO,EAAE,CAAA;IACzB,CAAC;IAEe,+BAAW,GAA3B,UAA4B,KAAgC;;;;;;wBAC3D,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;4BACtB,IAAI,CAAC,8BAA8B,EAAE,CAAA;wBACtC,CAAC;wBACD,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;4BACtB,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAA;wBACjD,CAAC;wBACD,qBAAM,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,KAAK,CAAC,EAAA;;wBAAjD,SAAiD,CAAA;wBAClC,qBAAM,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,EAAA;;wBAA7C,MAAM,GAAG,SAAoC;wBACnD,qBAAM,IAAI,CAAC,2BAA2B,CAAC,MAAM,CAAC,EAAA;;wBAA9C,SAA8C,CAAA;;;;;KAC9C;IAES,gCAAY,GAAtB,UAAuB,MAAiC;QACvD,oCAAoC;IACrC,CAAC;IACF,gBAAC;AAAD,CAAC,AAxBD,CAA+B,IAAI,GAwBlC\"}","dts":{"name":"/home/onset/z/react-device-portal/packages/frontend/node_modules/.cache/rollup-plugin-typescript2/placeholder/webrtc/Responder.d.ts","writeByteOrderMark":false,"text":"import { Peer } from './Peer';\nexport declare class Responder extends Peer {\n    protected role: \"responder\";\n    protected connect(): Promise<void>;\n    protected handleOffer(offer: RTCSessionDescriptionInit): Promise<void>;\n    protected handleAnswer(answer: RTCSessionDescriptionInit): void;\n}\n"}}
