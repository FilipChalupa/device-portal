{"code":"import { __awaiter, __extends, __generator } from \"tslib\";\nimport { Peer } from './Peer';\nvar Initiator = /** @class */ (function (_super) {\n    __extends(Initiator, _super);\n    function Initiator() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.role = 'initiator';\n        return _this;\n    }\n    Initiator.prototype.connect = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var offer;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.connection) {\n                            this.initializeConnectionAndChannel();\n                        }\n                        if (!this.connection) {\n                            throw new Error('Connection is not initialized');\n                        }\n                        return [4 /*yield*/, this.connection.createOffer()];\n                    case 1:\n                        offer = _a.sent();\n                        return [4 /*yield*/, this.setAndShareLocalDescription(offer)];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Initiator.prototype.handleOffer = function (offer) {\n        // Initiator does not handle offers\n    };\n    Initiator.prototype.handleAnswer = function (answer) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.connection) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.connection.setRemoteDescription(answer)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return Initiator;\n}(Peer));\nexport { Initiator };\n//# sourceMappingURL=Initiator.js.map","references":["/home/onset/z/react-device-portal/packages/frontend/src/webrtc/Peer.ts"],"map":"{\"version\":3,\"file\":\"Initiator.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/webrtc/Initiator.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAA;AAE7B;IAA+B,6BAAI;IAAnC;;QACW,UAAI,GAAG,WAAoB,CAAA;;IAsBtC,CAAC;IApBgB,2BAAO,GAAvB;;;;;;wBACC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;4BACtB,IAAI,CAAC,8BAA8B,EAAE,CAAA;wBACtC,CAAC;wBACD,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;4BACtB,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAA;wBACjD,CAAC;wBACa,qBAAM,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,EAAA;;wBAA3C,KAAK,GAAG,SAAmC;wBACjD,qBAAM,IAAI,CAAC,2BAA2B,CAAC,KAAK,CAAC,EAAA;;wBAA7C,SAA6C,CAAA;;;;;KAC7C;IAES,+BAAW,GAArB,UAAsB,KAAgC;QACrD,mCAAmC;IACpC,CAAC;IAEe,gCAAY,GAA5B,UAA6B,MAAiC;;;;;6BACzD,IAAI,CAAC,UAAU,EAAf,wBAAe;wBAClB,qBAAM,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,MAAM,CAAC,EAAA;;wBAAlD,SAAkD,CAAA;;;;;;KAEnD;IACF,gBAAC;AAAD,CAAC,AAvBD,CAA+B,IAAI,GAuBlC\"}","dts":{"name":"/home/onset/z/react-device-portal/packages/frontend/node_modules/.cache/rollup-plugin-typescript2/placeholder/webrtc/Initiator.d.ts","writeByteOrderMark":false,"text":"import { Peer } from './Peer';\nexport declare class Initiator extends Peer {\n    protected role: \"initiator\";\n    protected connect(): Promise<void>;\n    protected handleOffer(offer: RTCSessionDescriptionInit): void;\n    protected handleAnswer(answer: RTCSessionDescriptionInit): Promise<void>;\n}\n"}}
