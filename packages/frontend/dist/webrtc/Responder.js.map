{"version":3,"file":"Responder.js","sources":["../../src/webrtc/Responder.ts"],"sourcesContent":["import { Peer } from './Peer'\n\nexport class Responder extends Peer {\n\tprotected role = 'responder' as const\n\n\tprotected connect(): Promise<void> {\n\t\t// The connection is initiated from the Peer class\n\t\t// The responder waits for an offer\n\t\treturn Promise.resolve()\n\t}\n\n\tprotected async handleOffer(offer: RTCSessionDescriptionInit) {\n\t\tif (!this.connection) {\n\t\t\tthis.initializeConnectionAndChannel()\n\t\t}\n\t\tif (!this.connection) {\n\t\t\tthrow new Error('Connection is not initialized')\n\t\t}\n\t\tawait this.connection.setRemoteDescription(offer)\n\t\tconst answer = await this.connection.createAnswer()\n\t\tawait this.setAndShareLocalDescription(answer)\n\t}\n\n\tprotected handleAnswer(answer: RTCSessionDescriptionInit): void {\n\t\t// Responder does not handle answers\n\t}\n}\n"],"names":[],"mappings":";;;AAEA,IAAA,SAAA,kBAAA,UAAA,MAAA,EAAA;IAA+B,SAAI,CAAA,SAAA,EAAA,MAAA,CAAA;AAAnC,IAAA,SAAA,SAAA,GAAA;;QACW,KAAI,CAAA,IAAA,GAAG,WAAoB;;;AAE3B,IAAA,SAAA,CAAA,SAAA,CAAA,OAAO,GAAjB,YAAA;;;AAGC,QAAA,OAAO,OAAO,CAAC,OAAO,EAAE;KACxB;IAEe,SAAW,CAAA,SAAA,CAAA,WAAA,GAA3B,UAA4B,KAAgC,EAAA;;;;;;AAC3D,wBAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;4BACrB,IAAI,CAAC,8BAA8B,EAAE;;AAEtC,wBAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;AACrB,4BAAA,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC;;wBAEjD,OAAM,CAAA,CAAA,YAAA,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAA;;AAAjD,wBAAA,EAAA,CAAA,IAAA,EAAiD;AAClC,wBAAA,OAAA,CAAA,CAAA,YAAM,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAA;;AAA7C,wBAAA,MAAM,GAAG,EAAoC,CAAA,IAAA,EAAA;AACnD,wBAAA,OAAA,CAAA,CAAA,YAAM,IAAI,CAAC,2BAA2B,CAAC,MAAM,CAAC,CAAA;;AAA9C,wBAAA,EAAA,CAAA,IAAA,EAA8C;;;;;AAC9C,KAAA;IAES,SAAY,CAAA,SAAA,CAAA,YAAA,GAAtB,UAAuB,MAAiC,EAAA;;KAEvD;IACF,OAAC,SAAA;AAAD,CAxBA,CAA+B,IAAI,CAwBlC;;;;"}