{"version":3,"file":"Initiator.js","sources":["../../src/webrtc/Initiator.ts"],"sourcesContent":["import { Peer } from './Peer'\n\nexport class Initiator extends Peer {\n\tprotected role = 'initiator' as const\n\n\tprotected async connect(): Promise<void> {\n\t\tif (!this.connection) {\n\t\t\tthis.initializeConnectionAndChannel()\n\t\t}\n\t\tif (!this.connection) {\n\t\t\tthrow new Error('Connection is not initialized')\n\t\t}\n\t\tconst offer = await this.connection.createOffer()\n\t\tawait this.setAndShareLocalDescription(offer)\n\t}\n\n\tprotected handleOffer(offer: RTCSessionDescriptionInit): void {\n\t\t// Initiator does not handle offers\n\t}\n\n\tprotected async handleAnswer(answer: RTCSessionDescriptionInit) {\n\t\tif (this.connection) {\n\t\t\tawait this.connection.setRemoteDescription(answer)\n\t\t}\n\t}\n}\n"],"names":[],"mappings":";;;AAEA,IAAA,SAAA,kBAAA,UAAA,MAAA,EAAA;IAA+B,SAAI,CAAA,SAAA,EAAA,MAAA,CAAA;AAAnC,IAAA,SAAA,SAAA,GAAA;;QACW,KAAI,CAAA,IAAA,GAAG,WAAoB;;;AAErB,IAAA,SAAA,CAAA,SAAA,CAAA,OAAO,GAAvB,YAAA;;;;;;AACC,wBAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;4BACrB,IAAI,CAAC,8BAA8B,EAAE;;AAEtC,wBAAA,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;AACrB,4BAAA,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC;;AAEnC,wBAAA,OAAA,CAAA,CAAA,YAAM,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAA;;AAA3C,wBAAA,KAAK,GAAG,EAAmC,CAAA,IAAA,EAAA;AACjD,wBAAA,OAAA,CAAA,CAAA,YAAM,IAAI,CAAC,2BAA2B,CAAC,KAAK,CAAC,CAAA;;AAA7C,wBAAA,EAAA,CAAA,IAAA,EAA6C;;;;;AAC7C,KAAA;IAES,SAAW,CAAA,SAAA,CAAA,WAAA,GAArB,UAAsB,KAAgC,EAAA;;KAErD;IAEe,SAAY,CAAA,SAAA,CAAA,YAAA,GAA5B,UAA6B,MAAiC,EAAA;;;;;6BACzD,IAAI,CAAC,UAAU,EAAf,OAAe,CAAA,CAAA,YAAA,CAAA,CAAA;wBAClB,OAAM,CAAA,CAAA,YAAA,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAA;;AAAlD,wBAAA,EAAA,CAAA,IAAA,EAAkD;;;;;;AAEnD,KAAA;IACF,OAAC,SAAA;AAAD,CAvBA,CAA+B,IAAI,CAuBlC;;;;"}